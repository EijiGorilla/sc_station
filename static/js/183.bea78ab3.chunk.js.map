{"version":3,"file":"static/js/183.bea78ab3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/portal/support/geometryServiceUtils.js","../node_modules/@arcgis/core/rest/geometryService/project.js","../node_modules/@arcgis/core/rest/geometryService/utils.js","../node_modules/@arcgis/core/rest/support/ProjectParameters.js","../node_modules/@arcgis/core/rest/utils.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";function c(c){const u=new l,{vertex:m,fragment:b}=u;return n(m,c),u.include(i,c),u.include(t,c),u.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(p.POSITION,\"vec3\"),u.attributes.add(p.UV0,\"vec2\"),c.perspectiveInterpolation&&u.attributes.add(p.PERSPECTIVEDIVIDE,\"float\"),u.varyings.add(\"vpos\",\"vec3\"),c.terrainDepthTest&&u.varyings.add(\"depth\",\"float\"),m.main.add(a`\n    vpos = position;\n    ${c.terrainDepthTest?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${c.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}`),b.uniforms.add(new g(\"tex\",(e=>e.texture)),new d(\"opacity\",(e=>e.opacity))),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(s),b.main.add(a`\n    discardBySlice(vpos);\n    ${c.terrainDepthTest?\"terrainDepthTest(depth);\":\"\"}\n    ${c.output===e.ObjectAndLayerIdColor?\"fragColor = vec4(0, 0, 0, 1);\\n           return;\":\"\"}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{u as I,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import e from\"../../core/Error.js\";import t from\"../Portal.js\";import{project as o}from\"../../rest/geometryService/project.js\";import i from\"../../rest/support/ProjectParameters.js\";async function n(o=null,i){if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!o)throw new e(\"internal:geometry-service-url-not-configured\");let n;n=\"portal\"in o?o.portal||t.getDefault():o,await n.load({signal:i});const a=n.helperServices?.geometry?.url;if(!a)throw new e(\"internal:geometry-service-url-not-configured\");return a}async function a(r,t,a=null,l){const c=await n(a,l),s=new i({geometries:[r],outSpatialReference:t}),m=await o(c,s,{signal:l});if(m&&Array.isArray(m)&&1===m.length)return m[0];throw new e(\"internal:geometry-service-projection-failed\")}export{n as getGeometryServiceURL,a as projectGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{ensureType as o}from\"../../core/accessorSupport/ensureType.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{parseUrl as e,asValidOptions as s}from\"../utils.js\";import{decodeGeometries as p}from\"./utils.js\";import m from\"../support/ProjectParameters.js\";const i=o(m);async function n(o,m,n){m=i(m);const u=e(o),c={...u.query,f:\"json\",...m.toJSON()},j=m.outSpatialReference,a=t(m.geometries[0]),f=s(c,n);return r(u.path+\"/project\",f).then((({data:{geometries:r}})=>p(r,a,j)))}export{n as project};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getJsonType as e,getGeometryType as t}from\"../../geometry/support/jsonUtils.js\";function r(t){return{geometryType:e(t[0]),geometries:t.map((e=>e.toJSON()))}}function o(e,r,o){const n=t(r);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=o,t}))}export{o as decodeGeometries,r as encodeGeometries};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{getJsonType as s}from\"../../geometry/support/jsonUtils.js\";import{srToRESTValue as i}from\"../../geometry/support/spatialReferenceUtils.js\";let a=class extends o{constructor(r){super(r),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map((r=>r.toJSON())),o=this.geometries[0],t={};return t.outSR=i(this.outSpatialReference),t.inSR=i(o.spatialReference),t.geometries=JSON.stringify({geometryType:s(o),geometries:r}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}};r([t()],a.prototype,\"geometries\",void 0),r([t({json:{read:{source:\"outSR\"}}})],a.prototype,\"outSpatialReference\",void 0),r([t()],a.prototype,\"transformation\",void 0),r([t()],a.prototype,\"transformForward\",void 0),a=r([e(\"esri.rest.support.ProjectParameters\")],a);const p=a;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../config.js\";import{id as t}from\"../kernel.js\";import{clone as o}from\"../core/lang.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{isApiKeyApplicable as e}from\"../support/apiKeyUtils.js\";function i(r,t){return t?{...t,query:{...r??{},...t.query}}:{query:r}}function f(r){return\"string\"==typeof r?n(r):o(r)}function s(r,t,o){const n={};for(const e in r){if(\"declaredClass\"===e)continue;const i=r[e];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i))n[e]=i.map((r=>s(r)));else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(o?.[e]);n[e]=t?r:JSON.stringify(r)}else n[e]=t?i:JSON.stringify(i);else n[e]=i}return n}function u(o,n){return o?e(o,n)?n||r.apiKey:t?.findCredential(o)?.token:null}export{i as asValidOptions,s as encode,u as getToken,f as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{abortMaybe as a}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as n,onAbort as l,isAborted as h,createAbortError as m,throwIfAborted as d}from\"../../../core/promiseUtils.js\";import{whenOnce as c}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{equals as f,create as y,width as w,height as _,copy as x,intersection as v}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as R}from\"./interfaces.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as j,createOuterImageGeometry as S}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as I}from\"./support/projectExtentUtils.js\";import{debugFlags as A}from\"../support/debugFlags.js\";import{OverlayIndex as D}from\"../terrain/interfaces.js\";import{DirtyOperation as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as L}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as C}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as P}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import O from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as U}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as H}from\"../../webgl/enums.js\";let V=class extends(O(b(T))){constructor(){super(...arguments),this.drapeSourceType=R.RasterImage,this.updatePolicy=G.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{n(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return U(t,this.view.scale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(I(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=E(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:o}=this;if(\"imageMaxWidth\"in o&&null!=o.imageMaxWidth||\"imageMaxHeight\"in o&&null!=o.imageMaxHeight){const e=o.imageMaxWidth,t=o.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:y(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{n(e)||s.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new p(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=w(e)/this.maximumDataResolution.x,s=_(e)/this.maximumDataResolution.y,a=i/t.width,o=s/t.height,n=i/r.width,l=s/r.height,h=Math.abs(a-n),m=Math.abs(o-l),d=A.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:y(i)});const o=this._images[e];o.loadingAbortController=a(o.loadingAbortController);const c=new p(i[0],i[1],i[2],i[3],this._spatialReference);if(0===c.width||0===c.height)return void this._clearImage(e);const g=new AbortController;o.loadingAbortController=g,l(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(c,s,i,t)})).then((e=>{if(h(u))throw s.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(o,e)})).then((()=>{x(o.renderExtent,i)}));o.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{d(u),await this._createStageObjects(e,o.image,u)})).catch((e=>{throw e&&!n(e)&&s.getLogger(this).error(e),e})).finally((()=>{f===o.loadingPromise&&(o.loadingPromise=null,o.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=a(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],o=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],M.UPDATE),a.renderGeometry=null)};if(t){const n=new C(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:H.CLAMP_TO_EDGE,t:H.CLAMP_TO_EDGE}});let l;if(await r(this._images[e===D.INNER?D.OUTER:D.INNER].loadingPromise),d(i),o(),await s.schedule((()=>n.load(s.renderView.renderingContext)),i),s.add(n),a.texture=n,null==a.material?(a.material=new P({textureId:n.id}),s.add(a.material)):a.material.setParameters({textureId:n.id}),e===D.INNER)l=j(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();l=S(a.material,e,a.renderExtent)}a.renderGeometry=new L(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],M.UPDATE)}else o(),s.remove(a.material),a.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return x(t,e);const r=this.view.basemapTerrain;return r.ready?v(e,r.extent,t):x(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await c((()=>this.view.stationary),e),d(e)}};e([g()],V.prototype,\"layer\",void 0),e([g()],V.prototype,\"suspended\",void 0),e([g({readOnly:!0})],V.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([g({readOnly:!0})],V.prototype,\"visibleAtCurrentScale\",null),e([g()],V.prototype,\"updating\",void 0),V=e([u(\"esri.views.3d.layers.DynamicLayerView3D\")],V);const N=V,z=y();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";async function r(r){const l=r.view.spatialReference,n=r.layer.fullExtent,o=null!=n&&n.spatialReference;if(null==n||!o)return null;if(o.equals(l))return n.clone();const u=e(n,l);if(null!=u)return u;if(r.view.state.isLocal)try{const e=await t(n,l,r.layer.portalItem);return r.destroyed||null==e?null:e}catch{return null}return null}export{r as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as t}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as s}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as n,depthWrite as o,getDrawBuffers as a,getOITPolygonOffset as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as d}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as f}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as g,cullingParams as P,defaultColorWrite as j}from\"../../../webgl/renderState.js\";class b extends t{}class I extends i{constructor(e,t,i){super(e,t,new r(f,(()=>import(\"./ImageMaterial.glsl.js\"))),i,S)}_getPipelineState(t,r){const{oitPass:i,output:m,hasOccludees:f,enableOffset:b,cullFace:I}=t,S=i===s.NONE,O=i===s.FrontFace;return h({blending:m===e.Color?S?g:l(i):null,culling:P(I),depthTest:{func:n(i)},depthWrite:o(t),drawBuffers:a(i,m),colorWrite:j,stencilWrite:f?p:null,stencilTest:f?r?u:d:null,polygonOffset:S||O?null:c(b)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const S=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialPassParameters,I as ImageMaterialTechnique,S as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as r}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=r.None,this.hasSlicePlane=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([i({count:r.COUNT})],a.prototype,\"cullFace\",void 0),e([i()],a.prototype,\"hasSlicePlane\",void 0),e([i()],a.prototype,\"enableOffset\",void 0),e([i()],a.prototype,\"writeDepth\",void 0),e([i()],a.prototype,\"hasOccludees\",void 0),e([i()],a.prototype,\"terrainDepthTest\",void 0),e([i()],a.prototype,\"cullAboveTerrain\",void 0),e([i()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as p}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as T,ImageMaterialTechnique as g}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=T,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=p.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(g,e)}}class E extends l{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(){super(...arguments),this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["c","u","l","vertex","m","fragment","b","n","include","i","t","r","o","v","attributes","add","p","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","terrainDepthTest","main","a","uniforms","g","e","texture","d","opacity","s","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","async","arguments","length","undefined","geometryServiceUrl","portal","getDefault","load","signal","helperServices","geometry","url","geometries","outSpatialReference","Array","isArray","query","f","toJSON","j","path","then","_ref","data","geometryType","map","fromJSON","spatialReference","constructor","super","this","transformation","transformForward","outSR","inSR","JSON","stringify","wkid","prototype","json","read","source","h","Math","min","max","w","y","A","M","x","O","G","I","NORMAL","V","T","drapeSourceType","R","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","destroyed","_doRefresh","catch","getLogger","error","visibleAtCurrentScale","layer","effectiveScaleRange","U","view","scale","initialize","basemapTerrain","overlayManager","registerGeometryDrapeSource","addHandles","unregisterDrapeSource","addResolvingPromise","_set","_updatingHandles","suspended","_suspendedChangeHandler","destroy","clear","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","_clippedExtent","extent","z","width","height","round","E","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","doRefresh","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","_","abs","TESTS_DISABLE_OPTIMIZATIONS","material","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","addPromise","finally","removeGeometries","UPDATE","_stage","unload","remove","C","preMultiplyAlpha","wrap","H","CLAMP_TO_EDGE","D","INNER","OUTER","schedule","renderView","renderingContext","P","textureId","id","setParameters","S","L","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","stationary","readOnly","N","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","fullExtent","equals","clone","isLocal","portalItem","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","Color","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","Map","None","hasSlicePlane","writeDepth","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","camera","relativeElevation","visible","createGLMaterial","createBufferWriter","f32","beginSlot","updateTexture","_material","textureBindParameters","acquireTechnique","write","vertexBufferLayout","fields","keys","get","size","getField","initTextureTransparent","intersect","EventedMixin","parent","when","name","title","fullOpacity","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","isUpdating","updatingProgress","updateSuspended","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","type","Boolean","dataChanged"],"sourceRoot":""}