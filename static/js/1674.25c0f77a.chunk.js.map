{"version":3,"file":"static/js/1674.25c0f77a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/maybeUpdating.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{IdentifiableMixin as r}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as s}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=(p,l)=>{let n=class extends(s(r(t.EventedMixin(p)))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.sublayer?.opacity)*e(this.parent?.fullOpacity)}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([i()],n.prototype,\"sublayer\",void 0),e([i()],n.prototype,\"parent\",void 0),e([i({readOnly:!0})],n.prototype,\"suspended\",null),e([i({type:Boolean,readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"view\",void 0),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"fullOpacity\",null),n=e([o(\"esri.views.3d.layers.BuildingSublayerView3D\")],n),n};export{p as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{createMaterialFromEdges as r}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as o}from\"../support/symbolColorUtils.js\";var a;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(a||(a={}));const l=.15,t=.5*l;function i(e){switch(e.filterMode.type){case\"solid\":return{mode:a.Solid};case\"wire-frame\":return{mode:a.WireFrame,edgeMaterial:r(e.filterMode.edges,{})};case\"x-ray\":return{mode:a.XRay}}}function c(e,r){if(null==r)return e.color[3]=0,e.edgeMaterial=null,void(e.pickable=!1);switch(r.mode){case a.Solid:return;case a.WireFrame:return e.color[3]=0,e.edgeMaterial=r.edgeMaterial,void(e.pickable=!1);case a.XRay:return e.color[0]=1,e.color[1]=1,e.color[2]=1,e.color[3]*=l,e.colorMixMode=o.Replace,e.castShadows=!1,e.pickable=!1,void(e.edgeMaterial=n(e.edgeMaterial))}}function n(e){return null==e?null:(d.lastMaterial!==e&&(d.cachedMaterial=s(e),d.lastMaterial=e),d.cachedMaterial)}function s(r){const o=e(r.color);return o[3]*=t,{...r,color:o}}const d={cachedMaterial:null,lastMaterial:null};export{a as FilterModeEnum,c as applyFilterMode,i as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{throwIfAborted as l,throwIfAbortError as n}from\"../../../core/promiseUtils.js\";import{syncAndInitial as a,initial as o}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as p}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import h from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as c,populateMissingFields as f}from\"../../../layers/support/fieldUtils.js\";import m from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as g}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as F}from\"./I3SMeshView3D.js\";import{ForAllFeaturesMode as b}from\"./II3SMeshView3D.js\";import{applyFilterMode as _}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as E}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as w}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as x}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as S}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as j}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as v,getIndexCrs as I}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as Q}from\"./support/DefinitionExpressionSceneLayerView.js\";import{TemporalSceneLayerView as q}from\"./support/TemporalSceneLayerView.js\";import L from\"../../layers/BuildingComponentSublayerView.js\";import{hasPopupTemplate as R,getRequiredFields as V,getFetchPopupTemplate as U}from\"../../layers/support/popupUtils.js\";import{TaskPriority as A}from\"../../support/Scheduler.js\";let C=class extends(q(Q(F(g(L))))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabledAndHasTemplate(){return this.sublayer.popupEnabled&&R(this.sublayer,this.layerView?.view.popup?.defaultPopupTemplateEnabled)}initialize(){this._updatingHandles.add((()=>this.mergedFilter),(e=>{null!=e&&w.checkSupport(e)?null==this._i3sFilter?this._i3sFilter=new w({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError),addTimeFilter:(e,r)=>this.addTimeFilter(e,r)}):this._i3sFilter.viewFilter=e:this._i3sFilter=s(this._i3sFilter)}),a),this._updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields,this.timeFilterFields]),(()=>this._updateRequiredFields())),this._updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),o);const e=()=>this._filterChange();this._updatingHandles.add((()=>this.parsedDefinitionExpression),e),this._updatingHandles.add((()=>this._i3sFilter?.sortedObjectIds),e),this._updatingHandles.add((()=>this._i3sFilter?.parsedWhereClause),e),this._updatingHandles.add((()=>this.getTimeFilterDependencies()),e),this._updatingHandles.add((()=>this.mergedFilter),e),this._updatingHandles.add((()=>[this._i3sFilter?.parsedGeometry,this.filter?.spatialRelationship]),(()=>this._geometryFilterChange())),this._updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),o),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"!==this.sublayer.modelName&&this.layerView?this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=p.create(e,this.sublayer.fieldsIndex)}catch(n){return i.getLogger(this).error(\"Failed to parse filterExpression: \"+n),null}if(!t.isStandardized)return i.getLogger(this).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return v(l,this.sublayer.fields,{missingFields:s}),s.length>0?(i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]})).filter((e=>null!=e)):[]}get filter(){return this._get(\"filter\")}set filter(e){this._set(\"filter\",w.checkSupport(e)?e:null)}isUpdating(){return super.isUpdating()||(this._i3sFilter?.updating??!1)}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return _(t,l)}catch(i){this.logError(i)}return _(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),new Array))}get timeFilterFields(){const{timeExtent:e}=this,{timeInfo:r,fieldsIndex:t}=this.sublayer;if(null==e||null==r)return[];const{startField:i,endField:s}=r;return y(t,[i,s])}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...c(r,i),...t]}return y(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeaturesFromGraphics(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(0===e.length)return[];const s=[],a=[],o=null!=this.sublayer.associatedLayer?await this.sublayer.associatedLayer.load(r):this.sublayer,u=c(this.sublayer.fieldsIndex,await V(o,U(this.sublayer,r)));l(r);const d=new Set;for(const i of e)f(u,i,d)?a.push(i):s.push(i);return 0===a.length?s:(null!=this.sublayer.associatedLayer&&await this.sublayer.associatedLayer.load().catch((()=>i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(a,Array.from(d)).catch((e=>(n(e),a))).then((e=>s.concat(e))))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields,...this.filterExpressionFields,...this.timeFilterFields]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?U(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),this._i3sFilter?.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new m(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then((e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)}_ensureQueryEngine(){return null==this._queryEngine&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=E(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new x({layerView:this,priority:A.FEATURE_QUERY_ENGINE,spatialIndex:new j({featureAdapter:new S({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,b.QUERYABLE),getFeatureExtent:e,sourceSpatialReference:I(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():m.from(e))}};e([u()],C.prototype,\"i3slayer\",null),e([u()],C.prototype,\"layerView\",void 0),e([u()],C.prototype,\"lodFactor\",null),e([u({readOnly:!0})],C.prototype,\"parsedFilterExpressions\",null),e([u({type:h})],C.prototype,\"filter\",null),e([u()],C.prototype,\"_i3sFilter\",void 0),e([u({type:[String],readOnly:!0})],C.prototype,\"filterExpressionFields\",null),e([u({type:[String],readOnly:!0})],C.prototype,\"timeFilterFields\",null),e([u({type:[String],readOnly:!0})],C.prototype,\"requiredFields\",void 0),e([u({type:[String],readOnly:!0})],C.prototype,\"availableFields\",null),C=e([d(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],C);const O=C;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class s extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([o()],s.prototype,\"layer\",void 0),r([o()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{groupToMap as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import{handlesGroup as o}from\"../../../core/handleUtils.js\";import n from\"../../../core/Logger.js\";import{abortMaybe as l}from\"../../../core/maybe.js\";import{isAbortError as a,allSettledValues as u,throwIfAborted as p,createResolver as h}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import f from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as m}from\"./BuildingSublayerView3D.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{parseFilterMode as w}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as V}from\"./i3s/I3SUtil.js\";import{updatingProgress as j}from\"../support/updatingProperties.js\";import _ from\"../../layers/BuildingSceneLayerView.js\";const C=m(s);let S=class extends(b(_)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new i,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map,this.ignoresMemoryFactor=!1}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,s=null!=r?r.filterBlocks?.find((e=>\"solid\"===e.filterMode.type)):null;return s?s.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r?.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression??\"\",w(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){V(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController=l(this._abortController)}_initializeSubLayerViews(e,r){const s=this,t=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const s=new C({sublayer:e,view:t,parent:r});this._initializeSubLayerViews(e.sublayers,s)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const i=new f({sublayer:e,layerView:s,view:t,parent:r});this.sublayerViews.push(i);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(i);this._pendingWhenSublayerViews.delete(e)}this.addHandles([c((()=>i.updating),(()=>this.notifyChange(\"updating\")),y),c((()=>i.updatingProgress),(()=>this.notifyChange(\"updatingProgressValue\")),y)])})).catch((r=>{a(r)||n.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorTarget(e);return null}async fetchPopupFeaturesFromGraphics(e,r){if(0===e.length)return[];const s=t(e,(e=>e.sourceLayer)),i=[];for(const[t,n]of s){const e=this._findComponent(t);null!=e&&i.push(e.fetchPopupFeaturesFromGraphics(n,r))}const o=await u(i);return p(r),o.flat()}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return null==r?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(null!=r)return r;const s=this._pendingWhenSublayerViews.get(e),t=h();return s?s.push(t):this._pendingWhenSublayerViews.set(e,[t]),t.promise}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof i&&(e=e.toArray());const s=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,t=new Map;for(const e of r){let r=t.get(e.sourceLayer);null==r&&(r=[],t.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=t.get(e.sublayer);r&&s.push(e.highlight(r))}))}return o(s)}get usedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.usedMemory),0)}get unloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.unloadedMemory),0)}};e([d()],S.prototype,\"sublayerViews\",void 0),e([d({readOnly:!0})],S.prototype,\"filterExpression\",null),e([d({readOnly:!0})],S.prototype,\"filterExpressions\",null),e([d(j)],S.prototype,\"updatingProgress\",void 0),e([d({readOnly:!0,dependsOn:[]})],S.prototype,\"updatingProgressValue\",null),S=e([g(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],S);const B=S;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Logger.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&i.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&i.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return i.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const e=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:e}),e.length>0?(i.getLogger(this).error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return i.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,i){try{return r.testFeature(i)}catch(e){return this.logError(e),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const i=this.i3slayer.definitionExpression,e=r.clone();return e.where?e.where=`(${i}) AND (${e.where})`:e.where=i,e}};return r([e({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([e({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import{combinedViewLayerTimeExtentProperty as s}from\"../../../../layers/support/commonProperties.js\";import o from\"../../../../layers/support/FeatureFilter.js\";import{filterInPlace as n,getCachedAttributeValue as l}from\"../i3s/I3SUtil.js\";const u=l=>{let u=class extends l{constructor(){super(...arguments),this.timeExtent=null}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new o;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:o}=r;if(!o||null==i&&null==s)return;const n=r.toJSON(),l=e.toJSON();t.push(((t,e)=>this._timeFilter(t,e,n,l)))}_timeFilter(t,e,r,s){const o=e.attributeInfo?.attributeData;if(null==o)return;const{startTimeField:l,endTimeField:u}=r;if(!!(null!=l&&null==o[l]||null!=u&&null==o[u]))return;const a=i(r,s,new m(o));if(null==a)return;const{featureIds:c}=e;n(t,c,a)}};return t([e(s)],u.prototype,\"timeExtent\",void 0),t([e()],u.prototype,\"mergedFilter\",null),u=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],u),u};class m{constructor(t){this.attributeData=t}getAttribute(t,e){return l(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n"],"names":["n","t","u","p","l","s","r","EventedMixin","constructor","e","super","this","sublayer","parent","view","initialize","suspended","canResume","updating","isUpdating","visible","_this$sublayer","_overrideIfSome","fullOpacity","_this$sublayer2","_this$parent","opacity","_this$parent2","_this$view","ready","i","prototype","readOnly","type","Boolean","o","a","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","c","color","pickable","colorMixMode","Replace","castShadows","d","lastMaterial","cachedMaterial","arguments","availableFields","filter","Error","queryFeatures","queryObjectIds","queryFeatureCount","createQuery","queryExtent","highlight","C","q","Q","F","g","L","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","i3slayer","layerUid","layer","uid","sublayerUid","layerId","id","sublayerId","layerPopupEnabledAndHasTemplate","_this$layerView","popupEnabled","R","popup","defaultPopupTemplateEnabled","_updatingHandles","add","mergedFilter","w","checkSupport","_i3sFilter","viewFilter","layerFieldsIndex","fieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","addTimeFilter","renderer","definitionExpressionFields","filterExpressionFields","timeFilterFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","_this$_i3sFilter","sortedObjectIds","_this$_i3sFilter2","parsedWhereClause","getTimeFilterDependencies","_this$_i3sFilter3","_this$filter","parsedGeometry","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","addResolvingPromise","lodFactor","qualitySettings","sceneService","object","modelName","filterExpressions","map","_ref","create","getLogger","error","isStandardized","fieldNames","v","fields","missingFields","length","concat","join","_get","_set","_this$_i3sFilter$upda","_this$_i3sFilter4","_setSymbologyOverride","testFeature","_","y","reduce","_ref2","Array","timeExtent","timeInfo","startField","endField","outFields","_createLayerGraphic","sourceLayer","_controller","rootNodeVisible","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","associatedLayer","load","V","U","Set","f","push","catch","warn","whenGraphicAttributes","from","then","getRequiredFields","getFilters","_this$_i3sFilter5","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","m","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","E","renderSpatialReference","x","priority","A","FEATURE_QUERY_ENGINE","spatialIndex","j","featureAdapter","S","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","index","meta","b","QUERYABLE","sourceSpatialReference","I","viewSpatialReference","_addDefinitionExpressionToQuery","h","String","O","sublayerViews","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","Map","ignoresMemoryFactor","filterExpression","_r$filterBlocks","activeFilterId","filters","find","filterBlocks","toArray","_e$filterExpression","updatingProgressValue","updatingProgress","some","viewingMode","_initializeSubLayerViews","sublayers","destroy","forEach","isEmpty","geometryType","get","resolve","delete","addHandles","notifyChange","url","getGraphicFromIntersectorTarget","items","_findComponent","flat","whenGraphicBounds","Promise","reject","getAABBFromIntersectorTarget","whenSublayerView","set","promise","isArray","usedMemory","unloadedMemory","dependsOn","B","_definitionExpressionErrors","_maxDefinitionExpressionErrors","_this$i3slayer","definitionExpression","_evaluateClause","clone","where","_t$clone","_r$timeExtent$interse","_r$timeExtent","intersection","useTime","toJSON","_timeFilter","_e$attributeInfo","attributeInfo","attributeData","startTimeField","endTimeField","featureIds","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}